# 周报

Date: 2020.12.7-2020.12.13

## 本周工作总结

**QuEST部分**

> 1. 解决了vtune分析的部分问题（至少找到了分析的方向
>
> 2. 阅读quest源码
>
>    *我认为，优化的前提是先读懂代码在做什么，所以本周三之后我花了大量时间阅读代码（因为是第一次这么阅读一份完整的代码，工作量还蛮大的，所以进度比较缓慢），然而事实并非如此*
>
> 3. 尝试学习优化的相关知识
>
>    *这一部分，我先是根据老师给的关键词在搜索引擎上搜索，但是得到的结果不多，而且都是些非常零碎的东西，感觉像是盲人摸象，只看到了部分而看不到整体；然后想起了组会之后我从会议室顺走的那边关于优化的书（当时觉得可能用得上就拿回来，没仔细看），发现里面的内容正是关于优化的，看了一部分，感觉对优化这一个整体包含哪些东西有了一个初步的了解（这本书简直太棒了！）*



**基础知识学习**

> 学习了bash脚本的基础语法，并开始尝试写bash脚本
>
> *没错，我看书进度缓慢，现在才看到bash脚本的内容。不过，bash脚本是真的很有趣啊，简直可以说是让人手不释卷（误），但是因为时间比较紧张，组内的工作进度也比较缓慢，我不得不先放下这部分的内容，待寒假再继续学习*



**存在的问题和对问题的思考**

> **怎么去阅读一份代码？**
>
> 1. 刚开始阅读代码的时候，不知道从哪里开始下手（尽管看到了目录下有生成的html格式的API文档，但是我并不知道那些东西有什么用，于是就搁置在那里了），稀里糊涂先读一通，函数之间跳来跳去，乱七八糟的，啥也不懂（我也搜索过这个话题，但是得到的无非就是bottom-up和top-down两种方法，没感觉有什么很了不起啊）
> 2. 然后我想了一个办法，做一个关于代码整体框架的思维导图，将代码中定义的结构体和函数（作用、形参、返回值）等记录进去；写了一部分之后，我大致了解了代码中的变量有哪些，函数分别是干什么的，但是到这里我发现，这个代码这么多，函数这么多，这么一个个写也太麻烦了吧，有没有说明工具可以直接一键生成就好了
> 3. 于是我就去搜了一下，搜索到的结果中doxygen出现的频率很高，又想起来，好像文件夹下有那么一个文档？于是我就去看了看，发现这就是别人帮我整理好的思维导图啊，虽然没有树状，但是每个函数的作用、参数、返回值都整理好了——文档真是个好东西〒▽〒
> 4. 得出结论：

> **关于性能优化那本书的阅读**
>
> 读那本书的过程中发现，作者虽然已经极力地在简化一些概念的介绍，但是对于我而言这些东西依然是很生僻的，比如什么指令集、处理器、向量化、指令流水线……一大堆看不懂的名词，虽然我知道有办法可以帮助我理解这本书的内容，但是在时间如此紧张的情况下放下其他工作去看这本书（尤其是quest项目还没有理解完的情况下），我认为这是不合理的——所以，这个工作，也被我暂时搁置，待寒假再说（届时，请《深入理解计算机系统》赐予我力量吧~

> **关于优化**
>
> 向mbj学长咨询优化的步骤和方法，他告诉我，一般做一个项目的步骤如下
>
> 1. 把程序跑起来，多找几个测试算例，知道一些基本的特性
> 2. 跑profile
> 3. 分析热点，定位到关键代码段
>
> 他还推荐了两本书：csapp（经典+底层）和introduction to hpc for scientist and engineers（入门）
>
> 推荐啃berkeley关于roofline的那篇文章（下载到endnotes的minuscule组了



## 下周任务

- [x] 找一个根据vtune的分析结果进行优化的实例